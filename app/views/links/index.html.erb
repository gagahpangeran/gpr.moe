<% content_for :title, "All Links" %>

<h1>All Links</h1>

<div>
  <%= link_to "Add new link", new_link_path %>
</div>

<table>
  <tbody>
    <% @links.each do |link| %>
    <tr>
      <td style="width: 15%;" data-controller="clipboard">
        <a href="<%= slug_url(link.slug) %>" data-clipboard-target="anchor">
          <%= link.slug %>
        </a>
        <button class="copy-button" data-action="clipboard#copy" data-clipboard-target="button">
          Copy
        </button>
      </td>
      <td style="width: 70%;" data-controller="clipboard">
        <a href="<%= link.url %>" data-clipboard-target="anchor">
          <%= link.url %>
        </a>
        <button class="copy-button" data-action="clipboard#copy" data-clipboard-target="button">
          Copy
        </button>
      </td>
      <td style="width: 5%;">
        <%= link.visit_count %>
      </td>
      <td style="width: 10%;">
        <%= link.created_at.strftime("%Y-%m-%d") %>
      </td>
    </tr>
    <% end %>
  </tbody>
</table>
